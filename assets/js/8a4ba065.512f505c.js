"use strict";(self.webpackChunkoracle_docs=self.webpackChunkoracle_docs||[]).push([[848],{4378:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>s});const a=JSON.parse('{"id":"oracle-apex-global-ctw-plantuml","title":"Oralce APEX Global CTX Process Diagram","description":"","source":"@site/docs-oracle/oracle-apex-global-ctx-flow-plantUML.md","sourceDirName":".","slug":"/oracle-apex-global-ctw-plantuml","permalink":"/Oracle-Docs/docs-oracle/oracle-apex-global-ctw-plantuml","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"oracle-apex-global-ctw-plantuml","title":"Oralce APEX Global CTX Process Diagram","sidebar_position":3},"sidebar":"oracleSidebar","previous":{"title":"Set and View Global Contexts in APEX and Oracle DB","permalink":"/Oracle-Docs/docs-oracle/oracle-apex-global-ctw"},"next":{"title":"SQL Macros vs Global Context","permalink":"/Oracle-Docs/docs-oracle/sqlMacro-vs-global-ctx"}}');var l=n(4848),r=n(8453);const c={id:"oracle-apex-global-ctw-plantuml",title:"Oralce APEX Global CTX Process Diagram",sidebar_position:3},i="PlantUml Flow: APEX request setting and using a GLOBAL application context",o={},s=[];function p(e){const t={code:"code",h1:"h1",header:"header",pre:"pre",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"plantuml-flow-apex-request-setting-and-using-a-global-application-context",children:"PlantUml Flow: APEX request setting and using a GLOBAL application context"})}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-PlantUML",children:'@startuml\n\ntitle APEX request setting and using a GLOBAL application context\n\nactor User as U\nparticipant "APEX Page Request\\n(Browser)" as B\nparticipant "APEX Engine\\n(App Builder runtime)" as A\nparticipant "DB Session\\n(V$SESSION.CLIENT_IDENTIFIER)" as S\nparticipant "APPS.test_app_ctx_helper_pkg" as P\ndatabase "GLOBAL_CONTEXT\\n(SGA, keyed by CLIENT_IDENTIFIER)" as G\n\n== Request lifecycle ==\nU -> B: Navigate / Submit page\nB -> A: HTTP request (Show/Accept)\nactivate A\n\nA -> S: Initialization PL/SQL runs\\n(after APP_USER established)\nnote right of S\nAPEX init block executes early per request\nAPEX 23.1 Dev Guide: Security Attributes \u2192 Database Session\nend note\n\n== Key steps to enable GLOBAL context visibility ==\nA -> S: DBMS_SESSION.SET_IDENTIFIER(:APP_USER or custom)\nS -> P: P.set_parameter_value(client_id, attr, val)\nactivate P\nP -> S: DBMS_SESSION.SET_CONTEXT(\\n  namespace=>\'TEST_APP_CTX\',\\n  attribute=>attr,\\n  value=>val,\\n  username=>NULL,\\n  client_id=>client_id)\nP -> G: Store/associate attr=val for client_id\ndeactivate P\n\n== App logic can read ==\nA -> S: SELECT SYS_CONTEXT(\'TEST_APP_CTX\',\'attr\') FROM dual;\nS --\x3e A: value\nA -> S: SELECT * FROM GLOBAL_CONTEXT;\nS --\x3e A: rows visible for current CLIENT_IDENTIFIER\n\n== Response ==\nA --\x3e B: Render page/JSON\ndeactivate A\n\n== Cleanup at end of request ==\nA -> S: Cleanup PL/SQL runs\nS -> P: P.clear_ctx(client_id)\nactivate P\nP -> G: DBMS_SESSION.CLEAR_CONTEXT(namespace=>\'TEST_APP_CTX\',\\n  client_identifier=>client_id)\nP -> S: DBMS_SESSION.CLEAR_IDENTIFIER\ndeactivate P\n\n@enduml\n'})})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>i});var a=n(6540);const l={},r=a.createContext(l);function c(e){const t=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);